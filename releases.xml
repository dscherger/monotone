<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>monotone - distributed version control</title>
        <link>http://monotone.ca/releases.xml</link>
        <description>monotone releases with links to the sources.</description>
        <language>en</language>
        <pubDate>Wed, 3 Sep 2008 21:13:18 +0000</pubDate>
    <item>
            <title>monotone 0.41 released</title>
            <description>
<![CDATA[
<h2>Changes</h2>

<ul>
<li>'mtn clone' now takes a branch argument rather than a branch
option which is more what people expect given the fact that
mtn push/pull/sync do not use a branch option either.</li>

<li>'mtn automate inventory' will show the birth revision for
any file that has been committed.</li>
</ul>

<h2>Bugs fixed</h2>

<ul>
<li>If the options '--db' or '--keydir' were previously
specified for a command which was executed inside a
workspace and one or both option arguments were invalid
(f.e. invalid paths), they were still written to
_MTN/options of the particular workspace.  This lead to
errors on any subsequent command which used these
options. This bug is fixed in so far that basic file type
checks are applied on both options, so its no longer
possible to set non-existing paths accidentally or use a
path to a directory as option argument for '--db'.</li>

<li>If a key clash occurs on a netsync operation, i.e. two
different keys with the same key id are encountered, mtn now
fails cleanly and provides further guidance how to proceed.</li>

<li>It was previously not possible to clone a branch / database
anonymously; this has been fixed.</li>

<li>If the client tries to use an unknown key, try to fall back
to anonymous pull instead of failing immediately.</li>

<li>'mtn automate identify' was broken in 0.40 when used over
stdio, i.e. the output of the command did not get into the
right output channel; this has been fixed.</li>

<li>Monotone would produce a warning if executed from the root
directory of a Windows drive; this has been fixed.</li>

<li>The 'note_commit' hook now returns the new revision id
hex-encoded again - the bug was introduced in 0.40.</li>
</ul>

<h2>New features</h2>

<ul>
<li>New 'mtn suspend' command which lets you mark certain
revisions and thus whole branches as discontinued
("suspended") by attaching a special suspend cert to the
revision. All relevant mtn commands (f.e. mtn heads,
mtn ls branches) honor this cert by default. To ignore it,
simply add '--ignore-suspend-certs' to your command line.
Suspended revisions can have children, which are in no
way affected by the cert of their parent, i.e. suspended
development lines or branches can simply be "unsuspended"
by committing to them.<br />
This feature was already added in monotone 0.37, but was
forgotten to be mentioned in NEWS back then.</li>

<li>New 'get_default_command_options' lua hook which lets you
specify default options for a given, triggered command.
Useful f.e. if you always want to have your 'mtn add'
command executed with '-R' / '--recursive'.</li>

<li>Add 'automate show_conflicts' command.</li>

<li>Add 'automate get_workspace_root' command.</li>

<li>Add Lua hooks 'note_netsync_revision_sent',
'note_netsync_cert_sent' and 'note_netsync_pubkey_sent'.</li>
</h2>
]]>
            </description>
            <pubDate>Wed, 3 Sep 2008 21:13:18 +0000</pubDate>
            <enclosure url="http://thomaskeller.biz/monotone/0.41/monotone-0.41.tar.gz" length="5330052" type="application/octet-stream"/>

    </item>
    <item>
            <title>monotone 0.40 released</title>
            <description>
<![CDATA[
<h2>Changes</h2>

<ul>
<li>The vim merger has been improved and now uses diff3 to merge
non-conflict changes automatically before executing vimdiff.</li>

<li>Values used with the --depth option used to control recursion with
node and path restrictions have changed. Using --depth=0 now means
exactly the specified directories and *not* their children. Using
--depth=1 now means the specified directories and their immediate
children. Previously --depth=0 included children and --depth=1
included grandchildren and it was not possible to exclude children
using --depth.  The simple fix for anyone using --depth is to add 1 to
the values they are using.</li>

<li>Document that ssh: and file: sync transports are not supported on
native Win32.</li>
</ul>

<h2>Bugs fixed</h2>

<ul>
<li>`commit' now uses keydir specified in _MTN/options</li>

<li>duplicate name conflicts now show a proper error message, even if
a parent directory got renamed as well. In that case, the error
message now shows both names for the directory and the offending
file name.</li>
</ul>

<h2>New features</h2>

<ul>
<li>The bare parent selector 'p:' can now be used in a workspace to
query the parent(s) of the workspace' base revision. This is
equivalent to "mtn au select p:`mtn au get_base_workspace_revision`".</li>

<li>
<p>push, pull, and sync can be run with a single argument, which looks like</p>
<blockquote>mtn://hostname?include_pattenr/-exclude_pattern</blockquote>
<p>or</p>
<blockquote>mtn://hostname?include=include_pattern/exclude=exclude_pattern</blockquote>
</li>
</ul>

<h2>Internal</h2>

<ul>
<li>Update Botan to 1.7.4.</li>

<li>Usage of the internal app_state object has been reduced, objects
are better encapsulated now. The database interface has been
enhanced to ease reduction of locking contention in the future.</li>

<li>Merged the two indexes on revision_certs into a single one.</li>

<li>
<p>The database schema has been changed so that it now stores
binary SHA1 hashes rather than their hexadecimal encoding,
in most places where these are used.  This reduces the
database size and speeds up operations a little.</p>

<p>Users who like to fiddle with the database directly are
advised to use the sqlite functions hex() and quote() to
print columns that store hashes (including IDs), and the
hexadecimal literal notation x'DEADBEEF' to input them.</p>
</li>

<li>Binary SHA1 hashes are also used for most in-memory
processing, avoiding conversions and saving memory.</li>
</ul>
]]>
            </description>
            <pubDate>Fri, 11 Apr 2008 22:50:44 +0000</pubDate>
            <enclosure url="http://monotone.ca/downloads/0.40/monotone-0.40.tar.gz" length="5366351" type="application/octet-stream"/>

    </item>

    <item>
            <title>monotone 0.39 released</title>
            <description>
<![CDATA[
<h2>Changes</h2>

<ul>
<li>'mtn di' is now an alias for 'mtn diff'.</li>

<li>'automate db_set' has been renamed to 'automate set_db_variable'.</li>

<li>'automate db_get' has been replaced by 'automate get_db_variables'
which returns all database variables similar to 'list vars' in
basic_io format, optionally restricted by domain.</li>

<li>The REVID argument of 'automate get_revision' is now mandatory;
to retrieve the current workspace revision, use the new command
'automate get_current_revision'</li>

<li>messages describing conflicts from all of the various merge commands
have been reworked and should be much more informative.</li>

<li>mtn show_conflicts now outputs much more detailed and descriptive
messages, however it may report content conflicts that will be
resolved automatically by the line merger.</li>

<li>The internal copy of PCRE has been updated to version 7.6.
If you use the '--with-system-pcre' configure switch, it
will insist on at least this version.</li>

<li>"emacs" has been removed from the list of dumb terminal types;
tickers should now default to --ticker=count with emacs terminals</li>

<li>extensive section on merge conflicts and ways to resolve them
added to the manual.</li>
</ul>

<h2>Bugs fixed</h2>

<ul>
<li>for changes near the beginning of a file, mtn's unified diff
output sometimes contained too many leading context lines.</li>

<li>the path handling of 'mtn revert' was improved and fixed two bugs:
now a restricted revert on a node "dir1/file1" reverts only the
content changes in "file1", but leaves renames of any of its
ancestor nodes untouched; furthermore, if "dir0/" was renamed to
"dir1" and "dir1/file1" was dropped, mtn now re-creates file1 at the
proper place ("dir1/") and leaves no missing files around because
of the non-existing "dir0/".</li>

<li>a few changes needed to build with gcc 4.3.</li>
</ul>

<h2>New features</h2>

<ul>
<li>'automate drop_db_variables' which drops one database variable
(like the 'unset' command) or all variables within a given domain.</li>

<li>'automate inventory' now accepts the options '--no-ignored',
'--no-unknown', '--no-unchanged' and '--no-corresponding-renames'.
Please consult the monotone documentation for more information about
these new options.
In addition, 'automate inventory' no longer recurses into ignored
directories. The typical case of listing files that need attention
now runs at least four times faster.</li>

<li>'automate get_current_revision' which outputs the revision text of
changes in the current workspace</li>
</ul>
]]>
            </description>
            <pubDate>Mon, 25 Feb 2008 15:55:36 +0000</pubDate>
            <enclosure url="http://monotone.ca/downloads/0.39/monotone-0.39.tar.gz" length="5332200" type="application/octet-stream"/>

    </item>

    <item>
            <title>monotone 0.38 released</title>
            <description>
<![CDATA[
<h2>Changes</h2>

<ul>
<li>mtn log now prints a single dot for a project's root
directory instead of an empty string.</li>

<li>mtn now warns if changes to a file will be ignored because
the file has been deleted on one side of a merge.</li>

<li>mtn now errors if your chosen private key doesn't match the public
key of the same name in your database.</li>

<li>mtn now checks for your key before a merge action takes place to
ensure that any manually merged file isn't lost in an error case</li>
</ul>

<h2>Bugs fixed</h2>

<ul>
<li>a bug introduced in 0.37 prevented an external merger from being
executed unless the MTN_MERGE environment variable was set</li>

<li>mtn read successfully reads revision data, and cert packets again</li>

<li>mtn consistently supports certs with empty values
(fixed 'ls certs' and 'read') </li>
</ul>

<h2>Internal</h2>

<ul>
<li>Update Botan to 1.7.2.</li>

<li>Moved the gzip implementation out of the Botan directory.</li>
</ul>

<h2>Other</h2>

<ul>
<li>Added the scripts of the following Lua-based contributed
Monotone extension commands to contrib/command/:
"mtn base", "mtn fuse", "mtn revision", "mtn conflicts".</li>

<li>Added a hooks version of the contributed ciabot script,
contrib/ciabot_monotone_hookversion.lua</li>

<li>The monotone manual is now licensed under the GPL rather than
the GFDL.</li>
</ul>

]]>
            </description>
            <pubDate>Wed, 12 Dec 2007 21:21:15 +0000</pubDate>
            <enclosure url="http://monotone.ca/downloads/0.38/monotone-0.38.tar.gz" length="5264665" type="application/octet-stream"/>

    </item>

        <item>
            <title>monotone 0.37 released</title>
            <description>
<![CDATA[
<p>
Time for a new, and currently not so regular release.  This is
version 0.37, with quite a number of changes that I imagine would be
interesting for quite a lot of people.
</p>

<h2>Changes</h2>

<ul>
<li>mtn db kill_rev_locally now checks for an existing workspace
before the revision is killed and tries to apply the changes
of this particular revision back to the workspace to allow
easy re-committing afterwards

<li>the "--brief" switch for mtn annotate has been renamed to
"--revs-only" for clarity

<li>mtn help now lists the commands (and their aliases) available
within a group, so its easier to get an overview which commands
are available at all

<li>the "MTN_MERGE=diffutils" merger (provided by std_hooks.lua)
was improved. It now accepts a MTN_MERGE_DIFFUTILS environment
variable which can be used to control its behaviour
through comma-separated "key[=value]" entries. Currently
supported entries are "partial" for doing a partial
batch/non-modal 3-way merge conflict "resolution" which uses
embedded content conflict markers and "diff3opts=[...]" and
"sdiffopts=[...]" for passing arbitrary options to the used
"diff3" and "sdiff" tools. When used in combination with "mtn
merge_into_workspace" this way one especially can achieve a
CVS/SVN style non-modal workspace-based merging.

<li>There is a new revision selector: "p:REV" selects the
parent(s) of revision REV.  For example, if a revision has
one parent,

    <code>mtn diff -r p:REV -r REV</code>

will show the changes made in that revision.

<li>Monotone now uses the Perl-Compatible Regular Expression
(PCRE) library for all regular expressions, instead of the
boost::regex library.  This means that external Boost
libraries are no longer required to build or use Monotone.
If building from source, you will still need the Boost headers
available somewhere.  See INSTALL for details.

<li>PCRE's syntax for regular expressions is a superset of
boost::regex's syntax; it is unlikely that any existing
.mtn-ignore files or other user uses of regexps will break.
The manual now contains detailed documentation of the regexp
syntax, borrowed from PCRE itself.

<li>the format of "mtn automate inventory" has changed to basic_io.
This fixes a couple of corner cases where the old format
returned wrong information and introduces new capabilities like
restricted output, recognized attribute changes, and more.
For a complete overview on the new format, please take a look
in the appropriate manual section.
</ul>

<h2>Bugs fixed</h2>

<ul>
<li>mtn automate heads called without a branch argument now properly
returns the head revisions of the workspace's branch if called
over mtn automate stdio

<li>mtn commit no longer crashes if it creates a revision whose
roster already exists, i.e. was left behind by the command
`mtn db kill_rev_locally REV` (savannah #18990)
</ul>

<h2>Documentation changes</h2>

<ul>
<li>the documentation of the "--revs-only" (formerly "--brief")
switch for the annotate command didn't match its actual
behavior, this has been fixed

<li>documentation for the "ssh_agent_add" command was missing
and has been added
</ul>

<h2>Other</h2>

<ul>
<li>contrib/usher.cc has been removed. Please use the
net.venge.monotone.contrib.usher branch instead.
</ul>

<h2>Internal</h2>

<ul>
<li>Update SQLite to 3.4.1.

<li>Update Lua to 5.1.2 plus latest bug fixes.

<li>Update Botan to 1.5.10.

<li>Internal use of regular expressions has been almost eliminated.
(Regular expressions are still used for .mtn-ignore and the
--show-encloser feature of mtn diff, and are still available to
Lua hooks.)
</ul>

]]>
            </description>
            <pubDate>Fri, 25 Oct 2007 22:35:33 +0000</pubDate>
            <enclosure url="http://monotone.ca/downloads/0.37/monotone-0.37.tar.gz" length="5259352" type="application/octet-stream"/>
        </item>
    </channel>
</rss>
