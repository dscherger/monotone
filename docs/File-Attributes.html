<html lang="en">
<head><link type="text/css" rel="stylesheet" href="texinfo.css" />
<title>File Attributes - monotone documentation</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="monotone documentation">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Advanced-Uses.html#Advanced-Uses" title="Advanced Uses">
<link rel="prev" href="Naming-Conventions.html#Naming-Conventions" title="Naming Conventions">
<link rel="next" href="Merging.html#Merging" title="Merging">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<p>
<a name="File-Attributes"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="Merging.html#Merging">Merging</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Naming-Conventions.html#Naming-Conventions">Naming Conventions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Advanced-Uses.html#Advanced-Uses">Advanced Uses</a>
<hr>
</div>

<h3 class="section">3.13 File Attributes</h3>

<p>Monotone contains a support for storing <dfn>persistent attributes</dfn> on
files and directories, generally known as <dfn>attrs</dfn> for short.  An
attr associates a simple name/value pair with a file or directory, and
is stored in the manifest.  Attrs are first-class versioned data; they
can be changed in a workspace, and those changes will be saved when
the workspace is committed.  The merger knows how to intelligently
merge attrs.

<p>The attribute mechanism was originally motivated by the fact that some
people like to store executable programs in version control systems,
and would like the programs to remain executable when they check out a
workspace.  For example, the <samp><span class="command">configure</span></samp> shell script commonly
shipped with many programs should be executable.  Similarly, some
people would like to store devices, symbolic links, read-only files,
and all manner of extra attributes of a file, not directly related to
a file's data content.

<p>Monotone comes with support for some attrs built-in; for instance, if
an executable file is given to <samp><span class="command">mtn add</span></samp>, then it will
automatically mark the new file with a <code>mtn:execute</code> attr, and
when the file is checked out later, the executable bit will be set
automatically.  (Of course, if it is checked out on Windows, which
does not support the executable bit, then the executable bit will not
be set.  However, monotone will still know that the attr is set, and
Windows users can view and modify the attr like anyone else.)

<p>Attrs in the current workspace can be seen and modified using the
<samp><span class="command">mtn attr</span></samp> command; see <a href="Workspace.html#Workspace">Workspace</a>.  Attrs can also be found
by examining any manifest directly.

<p>You can tell monotone to automatically take actions based on these
attributes by defining hooks; see the <code>attr_functions</code> entry in
<a href="Hook-Reference.html#Hook-Reference">Hook Reference</a>.  Every time your workspace is written to,
monotone will run the corresponding hooks registered for each attr in
your workspace.  This way, you can extend the vocabulary of attrs
understood by monotone simply by writing new hooks.

<p>You can make up your own attrs for anything you find useful; the
mechanism is fully general.  (If you make up some particularly useful
ones, we may even be interested in adding support to monotone proper.) 
We only ask that if you do use custom attrs, you use some prefix for
them besides <code>mtn:</code>; attrs beginning with <code>mtn:</code> are
reserved for monotone's own use.

</body></html>

