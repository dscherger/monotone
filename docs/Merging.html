<html lang="en">
<head><link type="text/css" rel="stylesheet" href="texinfo.css" />
<title>Merging - monotone documentation</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="monotone documentation">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Advanced-Uses.html#Advanced-Uses" title="Advanced Uses">
<link rel="prev" href="File-Attributes.html#File-Attributes" title="File Attributes">
<link rel="next" href="Migrating-and-Dumping.html#Migrating-and-Dumping" title="Migrating and Dumping">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<p>
<a name="Merging"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="Migrating-and-Dumping.html#Migrating-and-Dumping">Migrating and Dumping</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="File-Attributes.html#File-Attributes">File Attributes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Advanced-Uses.html#Advanced-Uses">Advanced Uses</a>
<hr>
</div>

<h3 class="section">3.14 Merging</h3>

<p>Monotone has two merging modes, controlled by the <code>manual_merge</code>
attribute. 
By default all files are merged in automatic mode, unless the
<code>manual_merge</code> attribute for that file is present and
<code>true</code>. 
In automatic mode files are merged without user intervention, using
monotone's internal three-way merging algorithm. 
Only if there are conflicts or an ancestor is not available monotone
switches to manual mode, essentially escalating the merging to the user. 
When working in manual mode, monotone invokes the <code>merge3</code> hook
to start an user defined external merge tool. 
If the tool terminates without writing the merged file, monotone aborts the
merging, reverting any changes made. 
By redefining the aforementioned hooks the user can not only choose a
preferred merge tool, but even select different programs for different
file types.  For example, gimp for .png files, OpenOffice.org for
.doc, and so on. 
Starting with monotone 0.20, the <code>manual_merge</code> attribute is
automatically set at add time for all &ldquo;binary&rdquo; files, i.e. all files
for which the <code>binary_file</code> hook returns true. 
Currently, this means all files with extension gif, jpeg, png, bz2, gz
and zip, plus files containing at least one of the following
bytes:

<pre class="smallexample">     0x00 thru 0x06
     0x0E thru 0x1a
     0x1c thru 0x1f
</pre>
   <p>The attribute could also be manually forced or removed using the
appropriate monotone commands. 
Remember that monotone switches to manual merging even if only one of
the files to be merged has the <code>manual_merge</code> attribute set.

   </body></html>

