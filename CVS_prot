commands with a capital letter do not give a response
first command must be Root (only as first command)

Interesting commands:
 Checkin-time Gzip-stream 
 list status history annotate 

history -c -l -a -w ?

rlist -e christof/mf
[-de]
cvs rls: Listing module: `christof/mf'
/slantsl.mf/1.1.1.1/Mon Nov 18 14:03:17 1996//
/steno.mf/1.1.1.1/Mon Nov 18 14:03:17 1996//

rlist -l christof/mf
cvs rls: Listing module: `christof/mf'
---- 1996-11-18 14:03:17 +0000 1.1.1.1    slantsl.mf
---- 1996-11-18 14:03:17 +0000 1.1.1.1    steno.mf

Root /usr/local/cvsroot
Valid-responses ok error Valid-requests Checked-in New-entry Checksum Copy-file Updated Created Update-existing Merged Patched Rcs-diff Mode Mod-time Removed Remove-entry Set-static-directory Clear-static-directory Set-sticky Clear-sticky Template Clear-template Notified Module-expansion Wrapper-rcsOption M Mbinary E F MT
valid-requests
UseUnchanged
Argument -d
Argument -P
Argument -u
Argument --
Directory .
/usr/local/cvsroot/christof/tex
Entry /.cvsignore/1.1.1.1///
Unchanged .cvsignore
Entry /c....tgz/1.1//-ko/
Unchanged c...s.tgz
Directory a...um
/usr/local/cvsroot/christof/tex/a...um
Entry /te....tex/1.21///
Modified te....tex
u=rw,g=rw,o=r
1762
...
Questionable F...nst.txt
update


---- how

Root
...
rlist -Red
...
feststellen, welche Versionen vermutlich importiert sind und welche fehlen
(nur timestamp)

fehlende revisions/cmanifests mittels
rlog -d 'Jun 20 09:38:29 1997<Jun 20 09:38:29 2000' christof/localsrc/indent2.c
aufbauen [cmanifest= (path,version)*]

(log optionen -b? -N -r1.7::)

fehlende manifests inkrementell durch patch request besorgen 
(evtl. bekannte Version mitnehmen)

Option: letztes erkanntes manifest prÃ¼fen

----- Update mit Checksum
Directory .
/usr/local/cvsroot/christof/tex/alptraum
Entry /alptraum.tex/1.1///
Unchanged alptraum.tex
update

Clear-static-directory ./
/usr/local/cvsroot/christof/tex/alptraum/
Clear-sticky ./
MT text P 
MT fname alptraum.tex
E cvs update: Updating .
MT text P 
MT fname alptraum.tex
MT newline
Checksum 35a9f38ba4c2f329d8b840adbe41e169
Rcs-diff ./
/usr/local/cvsroot/christof/tex/alptraum/alptraum.tex
/alptraum.tex/1.2///
u=rw,g=r,o=r
66
a0 1
% $Id: alptraum.tex,v 1.2 1997/03/27 08:52:56 christof Exp $
Clear-sticky ./
/usr/local/cvsroot/christof/tex/alptraum/
ok


----- syntax
monotone pull [--branch foo] cvs://localhost/usr/local/cvsroot module[:branch]

----- push
find the last available revision
for each unique(!) successor commit each changed file (with timestamp)

---- thoughts
changed changelogs/dates will result in ugly fork forests 

---- class
class remote_cvs
{
public:
  typedef std::map<std::string,std::string> cvsmanifest; // file,rev
  // zusammen mit changelog, date, author(?)
  std::map<cvsmanifest*,cvsmanifest*> successor;
  remote_cvs(const std::string &host, const std::string &root, const
		std::string &module="");
  std::list<std::string> get_modules();
  void set_branch(const std::string &tag);
  const cvsmanifest &now();
  const cvsmanifest &find(const std::string &date,const std::string &changelog);
  const cvsmanifest &next(const cvsmanifest &m) const;
};
