Mini-mantis (tm) ;)

  3. Sometimes bad packets are returned by monotone. Examples:
  
       error: sqlite error: database is locked
       
       error: sqlite error: library routine called out of sequence
       
     looks like in sync 'mtn au' and 'mtn read' are racing for db lock.
     
RESOLVED
  2. When monotone asks for db migration script goes into infinite loop.
     Seen on pre-0.33 database used with mtn 0.33
     Seen also on pre-0.34 database used with mtn 0.34
     
     Resolution: 1. at each read, check if stdio stream returned EOF (empty string)
                 if yes then alarm user about problem
		 2. show monotone automate stderr on console, so user
		 can see monotone's warning about old schema
RESOLVED
  1. When pushing from Win32 to Unix by SFTP names with \ instead 
      are created on SFTP site:
	-- /sample/
	-rw-r--r--   1 aci      aci           61 Feb 22 09:54 mtndumb\HASHES_f4
	-rw-r--r--   1 aci      aci          152 Feb 22 09:54 mtndumb\HASHES_f5
	-rw-r--r--   1 aci      aci           96 Feb 22 09:54 mtndumb\HASHES_f6
	-rw-r--r--   1 aci      aci           92 Feb 22 09:54 mtndumb\HASHES_f7
	-rw-r--r--   1 aci      aci           61 Feb 22 09:54 mtndumb\HASHES_f9
	-rw-r--r--   1 aci      aci           94 Feb 22 09:54 mtndumb\HASHES_fc
	-rw-r--r--   1 aci      aci          179 Feb 22 09:54 mtndumb\HASHES_fe
	-rw-r--r--   1 aci      aci           62 Feb 22 09:54 mtndumb\HASHES_ff
	--
    Test case:
        mtndumb push sftp://user@host/export/home/user/repo/mtndumb net.venge.monotone.dumb
    where host=unix, local=win32
    
    Probably some "os.path.normpath()" is used somewhere.
    
    Resolution: don't use os.path.join() when creating remote path.

   